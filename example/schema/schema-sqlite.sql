CREATE TABLE users (id INTEGER NOT NULL, profile INTEGER DEFAULT NULL, friend INTEGER DEFAULT NULL, name VARCHAR(255) NOT NULL, password VARCHAR(255) NOT NULL, email VARCHAR(255) NOT NULL, avatar VARCHAR(255) DEFAULT '', birthDate DATETIME NOT NULL, PRIMARY KEY(id), CONSTRAINT FK_1483A5E98157AA0F FOREIGN KEY (profile) REFERENCES profile (id) NOT DEFERRABLE INITIALLY IMMEDIATE, CONSTRAINT FK_1483A5E955EEAC61 FOREIGN KEY (friend) REFERENCES users (id) NOT DEFERRABLE INITIALLY IMMEDIATE)
CREATE UNIQUE INDEX UNIQ_1483A5E9E7927C74 ON users (email)
CREATE INDEX name_email_index ON users (name, email)
CREATE INDEX IDX_1483A5E98157AA0F ON users (profile)
CREATE INDEX IDX_1483A5E955EEAC61 ON users (friend)
CREATE TABLE profile (id INTEGER NOT NULL, address INTEGER DEFAULT NULL, user INTEGER DEFAULT NULL, age INTEGER NOT NULL, tags CLOB NOT NULL, PRIMARY KEY(id), CONSTRAINT FK_8157AA0FD4E6F81 FOREIGN KEY (address) REFERENCES address (id) NOT DEFERRABLE INITIALLY IMMEDIATE, CONSTRAINT FK_8157AA0F8D93D649 FOREIGN KEY (user) REFERENCES users (id) NOT DEFERRABLE INITIALLY IMMEDIATE)
CREATE INDEX IDX_8157AA0FD4E6F81 ON profile (address)
CREATE INDEX IDX_8157AA0F8D93D649 ON profile (user)
CREATE TABLE address (id INTEGER NOT NULL, country VARCHAR(255) NOT NULL, city VARCHAR(255) NOT NULL, street VARCHAR(255) NOT NULL, PRIMARY KEY(id))
